# 软考备考

## 考试介绍

![image-20240328230038706](image\image-20240328230038706.png)

## 一、计算机组成原理与体系及结构

### 1.数的表示

#### 	（1）R进制转十进制

​		R进制转十进制使用按权展开法，具体操作为：将R进制数的每一位数值R^k形式有关，即幂的底数是R，指数是k，k与该为的小数点之间的距离有关。当该位位于小数点左边，k值是该位和小数点之间数码的个数，而当该位位于小数点右边，k值是负值，其绝对值是该位和小数点之间数码的个数加1.

​					示例：

![image-20240328231446413](image\image-20240328231446413.png)

#### 	（2）十进制转R进制（整数）

​	十进制转R进制使用短除法。例如将94转换为二进制数

​						![image-20240328231903122](image\image-20240328231903122.png)

#### 	（3）二进制转八进制和十六进制

二进制转八进制，每三位二进制数表示一位八进制数，位数不足时，最高位补零

二进制转十六进制，每四位二进制数表示一位十六进制数，位数不足时，同样是最高位补零

![image-20240328232503152](image\image-20240328232503152.png)

#### 	（4）浮点数运算

​     类似于科学计数法，小阶对大阶，节省处理步骤

​	![image-20240329222854728](image\image-20240329222854728.png)

### 2.计算机结构

![image-20240329223837183](image\image-20240329223837183.png)

#### （1）运算器部分

算数逻辑单元ALU：进行加、减、乘、除四则运算，与、或非、异或等逻辑操作，以及移位、求补等操作

累加寄存器AC：当运算器的算术逻辑单元ALU执行算术或者逻辑运算时，为ALU提供一个工作区，可以为ALU暂时保存一个操作数或运算结果。

数据缓冲寄存器DR：作为CPU和主存、外设之间信息传输的中转站，用以弥补CPU和主存、外设之间操作速度上的差异。

状态条件寄存器PSW：用于保存由算术指令和逻辑指令运行或测试的结果建立的各种条件码内容。



#### （2）控制器部分

程序计数器PC：确定下一条取值指令的地址

指令寄存器IR：用来保存当前正在执行的一条指令

指令译码器：对指令中的操作码字段进行分析解释

时序部件：为指令的执行产生时序信号

### 3.计算机体系结构分类 - Flynn

​			分类依据：指令流、数据流

​			SISD：单片机

​			SIMD：多用于处理数组

​			MIMD：最常见（服务器）

![image-20240329230945858](image\image-20240329230945858.png)

### 4.CISC和RISC的区别比较（判断题、选择题）

 

| 指令系统类型 |                             指令                             | 寻址方式     | 实现方式                                             | 其他                       |
| :----------: | :----------------------------------------------------------: | ------------ | ---------------------------------------------------- | -------------------------- |
| CISC（复杂） |              数量多，使用频率差别大，可变长格式              | 支持多种     | 微程序控制技术（微码）                               | 研制周期长                 |
| RISC（精简） | 数量少，使用频率接近，定长格式，大部分为单周期指令，操作寄存器，只有Load/Store操作内存 | 支持的方式少 | 增加了通用寄存器；硬布朗逻辑控制为主；适合采用流水线 | 优化编译，有效支持高级语言 |

### 5.流水线（计算题）

#### （1）概念

​		流水线是指程序执行时多条指令重叠进行操作的一种并行处理实现技术。各种部件同时处理时针对不同的指令而言的，它们可同时为多条指令的不同部分进行操作，以提高各部件的利用率和指令的平均执行速度

![image-20240413224520348](image\image-20240413224520348.png)

#### （2）计算

​			流水线周期 Δt ：流水线中三部分（取值。分析和执行）中执行时间最长的一段
​			流水线计算公式：
​			1条指令执行时间 + （指令条数 - 1）* 流水线周期
​			理论公式：（t1 + t2 + .. + tk）+ (n - 1) * Δt（首选）
​			实践公式：（k + n - 1）* Δt （k 指 第一条指令执行完毕所需的流水线周期数）
​	![image-20240413230433169](image\image-20240413230433169.png)

用 理论公式 计算得到结果为 2 + 2 + 1 + （100 - 1 ）*  2  = 203
用 实践公式 计算得到结果为 （3 + 100 - 1）* 2 = 204 
首选理论结果，没有时再选实践结果

#### （3）流水线吞吐率计算

​			流水线的吞吐率（Though Put rate ，TP）是指再单位时间内流水线所完成的任务数量或输出结果的数量。计算流水线吞吐率的最基本公式如下：
​										![image-20240413231029717](image\image-20240413231029717.png)

流水线最大吞吐率：
								![image-20240413231111390](image\image-20240413231111390.png)

#### （4）流水线的加速比 

​			所谓加速比是指完成同一批任务，不使用流水线所用的时间与使用流水线所用的时间之比。计算公式如下：
​											![image-20240413232056922](image\image-20240413232056922.png)

#### （5）流水线的效率

​			流水线的效率是指流水线设备的利用率。在时空图上，流水线的效率定义为n个任务占用的时空区与k个流水段总的时空区之比。流水线效率的计算公式为：
​												![image-20240413232348833](image\image-20240413232348833.png)

例题：

![image-20240413232408959](image\image-20240413232408959.png)

该题 的流水线周期为 3Δt （图中S4耗时最长，为3Δt）
图中执行四条指令耗时 15Δt ，所围成的总面积为 15 * 4 （工作段/部件数）= 60 
任务所占的有效面积为( Δt + Δt +Δt + 3Δt ) * 4 = 24 
则该流水线的效率为 24 / 60 = 0.4

### 6.计算机层次化的存储结构

![image-20240414222821913](image\image-20240414222821913.png)

### （1）cache（选择题、计算题）

概念：

cache的功能：提高CPU数据输入输出的速率、突破冯·诺依曼瓶颈，即CPU于存储器系统间数据传送带宽的限制。
在计算机的存储体系中，cache是访问速度最快的层次。
使用cache改善系统性能的依据是程序的局部性原理

​		如果以h代表cache的访问命中率，t1表示cache的周期时间，t2表示主存储器周期时间，以读操作为例，使用“cache + 主存储器”的系统的平均周期为t3，则：

​								t3 = h * t1 + (1-h) * t2
其中，（1 - h）又称为失效率（未命中率）。

### （2）局部性原理

时间局部性：简单理解，指某一指令在被执行之后短时间内会被再次执行，即为时间局部性
空间局部性：简单理解，指某一存储空间后，接下来它附近的存储空间也有可能被访问，这就是空间局部性
工作集理论：工作集是进程运行时被频繁访问的页面集合

### （3）主存

#### 		1）分类

​	随机存取存储器（内存）：断电之后存储器中的内容会被清空。
​	只读存储器（外存）：断电之后仍然可以存储数据

![image-20240414225614482](image\image-20240414225614482.png)

#### 2）编址（将芯片组成存储器）计算题重点

![image-20240415155658926](image\image-20240415155658926.png)

答案：（1）B   （2） A

### （4）磁盘结构和参数

![image-20240415155837698](image\image-20240415155837698.png)

存取时间 = 寻道时间 + 等待时间（平均定位时间 + 转动延迟）

平均定位时间 = 旋转周期 / 物理块数（可以理解为读取每个数据所需的时间）

注意：寻道时间是指磁头移动到磁道所需的时间；等待时间为等待读写的扇区转到磁盘头下方所需的时间

![image-20240415160051606](image\image-20240415160051606.png)

​			[答案与解析](https://blog.csdn.net/interestANd/article/details/115539993) 

### 7.总线（选择题）

#### （1）分类

根据总线所处的位置不同，总线通常被分为三种类型，分别是：

1. 内部总线（微机内部、芯片级别）

2. 系统总线（微机中各个插件板和系统板之间的总线，插件板级）PCI、VGA

   以32位计算机为例
   数据总线：32位 
   地址总线：32位，代表的地址空间（内存）为 2^32bit，即4G 
   控制总线：发送相应控制信号的总线

3. 外部总线（微机和外部设备的总线）

### 8.系统可靠性分析与设计

#### （1）系统可靠性分析

1. 串联系统

   ![image-20240415165907694](image\image-20240415165907694.png)

   其中R表示可靠度（%），λ为失效率（该失效率计算公式只适用于失效率极小的情况下做粗略计算）

2. 并联系统

   ![image-20240415172228519](image\image-20240415172228519.png)
   其中R表示可靠度（%)，μ表示失效率，由于公式过于复杂，可以使用1 - 可靠度的方式来获取失效率

3. n模冗余系统（几乎不考）
   ![image-20240415172343974](image\image-20240415172343974.png)
   R1~Rm是具有相同功能部件，表决器根据多数部件的结果输出最终结果

4. 串并联混合系统
   ![image-20240415172651195](image\image-20240415172651195.png)

### 9.差错控制-CRC与海明校验码 

1. 什么是码距？
   一个编码系统的码距是整个编码系统中任意（所有）两个码字的最小距离。
   例：
   若用1位长度的二进制编码，若A=1,B=0.这样由 码字A 变换到 码字B 只需要变换1位，那么A、B之间的最小码距为1。
   若用两位长度的二进制编码，若以A=11，B=00为例，A、B之间的最小码距为2（需变换2位）。
   若用3位长度的二进制编码，可选用111、000作为合法编码。A，B之间的最小码距为3（需变换3位）。
2. 码距与检错、纠错有何关系？
   在一个码组内为例检测e个误码，要求最小码距 d 应该满足：d >= e+1
   在一个码组内为了纠正t个误码，要求最小码距 d 应该满足：d >= 2t +1

#### (1)检验码 - 循环检验码CRC

![image-20240416103036095](image\image-20240416103036095.png)
![image-20240416103232008](image\image-20240416103232008.png)

第二张图中的被除数11011，是由生成多项式得到的
即 1 * x^4 + 1*x^3 + 0 * x^2 + 1*x^1 + 1 * x^0
	 1			  1              0              1             1

#### (2)校验码 - 海明校验码（重点、难点）

- 定义：海明码校验位的位置规定在  2的n次方位 
- 计算n位信息需要的检验码个数：2^r >= n + r +1
  （上式中 n 是指信息位的个数、r为检验位的个数）

![image-20240416104433435](image\image-20240416104433435.png)

[最通俗易懂的海明码校验纠错讲解](https://blog.csdn.net/hamster204/article/details/90748043)
**例子：**编码前有效信息为**10011101**

|  1   |  2   |  3   |  4   |  5   |  6   |  7   |  8   |  9   |  10  |  11  |  12  |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  P1  |  P2  |  D1  |  P3  |  D2  |  D3  |  D4  |  P4  |  D5  |  D6  |  D7  |  D8  |
|  ?   |  ?   |  1   |  ?   |  0   |  0   |  1   |  ?   |  1   |  1   |  0   |  1   |
|  1   |  1   |      |  0   |      |      |      |  1   |      |      |      |      |

**求海明码数值**

**公式：**在偶校验方式下Pn的取值，受到Pn所能验证位中所有1的个数影响，当1为偶数个时则Pn=0，当1的个数为奇数个时则Pn=1。Pn能验证的位=从Pn位数起，校验2^（n—1）位，然后跳过2^（n—1）位，以此规则循环至末尾。

填表时要从右往左填

**求出错位置**

 将P1、P2、P3、P4所负责验证的码位取名为组，即得到对应的G1、G2、G3、G4四个组，然后分别用奇偶校验法去验证**各组码值**定位错误。（即用奇偶校验确定各组的值，**简单办法是直接数1的个数奇数为1偶数为0**）

出错位置 = G4 G3 G2 G1

**纠正错误值**

二进制位非0即1，当判断出是哪位出错对该位取反即可。则经过纠正的海明码为111000111101，与发送端保持了一致。

## 二、操作系统基本原理

**作用**

- 管理系统的硬件、软件、数据资源
- 控制程序运行
- 人机之间的接口
- 应用软件与硬件之间的接口

**具体的管理职能**

- 进程管理
- 存储管理
- 文件管理
- 作业管理
- 设备管理 

![image-20240416175330222](image\image-20240416175330222.png)

### 1.进程的状态转换图

**三状态模型**

![image-20240416180014908](image\image-20240416180014908.png)

**五状态模型**

![五态模型](https://img-blog.csdnimg.cn/20201230184726237.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RyZWFtUkU=,size_16,color_FFFFFF,t_70)

**七状态模型**

![img](https://img-blog.csdnimg.cn/20210306161621520.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RvWW91VGhpbmtBTWU=,size_16,color_FFFFFF,t_70)

### 2.前趋图

![image-20240416181020909](image\image-20240416181020909.png)

A、B、C没有先后顺序要求，可以放在一条线上，D要A、B、C都完成后才能进行，所以A、B、C都有指向D的箭头，E要D完成后才能进行，所以 D 有一条指向 E 的箭头
**概念**

前趋图即事件发生的先后顺序

### 3.进程的同步和互斥

**互斥：**如千军万马过独木桥（不允许同时处理多个）

**同步：**速度存在差异，在一定情况下停下等待（速度匹配）

### 4.进程管理 - PV操作

- 临界资源：指进程间需要互斥方式对其进行共享的资源，如打印机、磁带机等
- 临界区：每个进程中访问临界资源的那段代码称为临界区
- 信号量：一种特殊的变量 

**PV操作原理图**

![image-20240417160800052](image\image-20240417160800052.png)

**举例**

![image-20240417161751395](image\image-20240417161751395.png)

#### PV例题

![image-20240417175256185](image\image-20240417175256185.png)

共享资源 ： 书店顾客量 = n  ，

​					  收银台 = 1

a1: V（S1）				b1: P(S1)

a2: P（S2）				b2: V(S2)

答案：（1）A

​			（2）C

#### PV例题（结合前趋图）

![image-20240418162401112](image\image-20240418162401112.png)

![image-20240418162849676](image\image-20240418162849676.png)

答案：（1）C
		    （2）A
			（3）A

### 5.死锁问题

**概念**：进程管理是操作系统的核心，但如果设计不当，就会出现死锁的问题。如果一个进程在等待一件不可能的事，则进程就死锁了。而如果一个或多个进程产生死锁，就会造成系统死锁

![image-20240419145740545](image\image-20240419145740545.png)

答案：13个

#### （1）死锁预防（打破四大条件）

**死锁产生的条件**：

- 互斥：一次只有一个进程可以使用一个资源。
- 占有且等待：当一个进程等待其他进程时
- 不可抢占：不能强行抢占进程已经占有的资源
- 循环等待：存在一个闭合的进程链，每个进程至少占有此链中下一个进程所需的资源。此条件是前三个条件的潜在结果，即假设前三个条件存在，则可能发生一系列事件会导致不可解的循环等待。

#### （2）死锁避免——银行家算法

**概念**：

- 当一个进程对资源的最大需求量不超过系统中的资源数时可以接纳该进程
- 进程可以分期请求资源，但请求的总数不能超过最大需求量
- 当系统现有的资源不能满足进程尚需资源数时，对进程的请求可以推迟分配，但总能使该进程在有限时间内得到资源
